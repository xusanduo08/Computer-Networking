### 分组交换网中的时延、丢包和吞吐量

吞吐量：每秒能够传输的数据量。

分组从一台主机（源）出发，通过一系列路由器传输，在另一台主机（目的地）结束它的历程。当分组从一个节点（主机或路由器）沿着这条路径到后继节点（主机或路由器）时，该分组在沿途的每个节点都经受了几种不同类型的时延。这些时延中最为重要的是__节点处理时延__(nodal processing delay)、__排队时延__(queuing delay)、__传输时延__(transmission delay)和__传播时延__(propagation delay)，这些时延总体加起来是__节点总时延__(total nodal delay)。

__处理时延__：检查分组首部和决定将该分组导向何处所需要的时间是__处理时延__的一部分。处理时延也包括其他因素，如检查比特级差错所需要的时间。

__排队时延__：在队列中，当分组在链路上等待传输时，它经受__排队时延__。一个特定分组的排队时延将取决于先期到达的、正在排队等待向链路传输的分组的数量。如果队列是空的，并且当前没有其他分组在传输，则该分组的排队时延为0。另一方面，如果流量很大，并且许多其他分组也在等待传输，该排队时延将很大。到达组的分组数量是到达该队列的流量的强度和性质的函数。

__传输时延__：假定分组以先到先服务的方式传输——这在分组交换网中是常见方式，仅当所有已经到达的分组被传输后，才能传输我们的分组。用L比特表示分组的长度，用Rbps表示从路由器A到达路由器B的链路传输速率。例如，对于一条10Mbps的以太网链路，速率R= 10Mbps。__传输时延__(又称为存储转发时延)是L/R。这是将所有分组的比特推（传输）向链路所需要的时间。

__传播时延__：一旦一个比特被推向链路，该比特需要向路由器B传播。从该链路的起点到路由器B传播所需要的时间是__传播时延__。该比特以该链路的传播速率传播。该传播速率取决于该链路的物理媒体（即光纤、双绞铜线等），其速率范围在2\*10^8~3\*10^8m/s，这等于或略小于光速。传播时延等于两台路由器之间的距离除以传播速率，即传播时延是d/s，其中d是路由器A和路由器B之间的距离，s是该链路的传播速率。一旦该分组的最后一个比特传播到节点B，该比特及前面的所有比特都被存储于路由器B。整个过程将随着路由器B执行转发而持续下去。在广域网中，传播时延在毫秒的量级。

__传输时延和传播时延的比较__：传输时延是路由器将分组推出所需要的事件，它是分组长度和链路传输速率的函数，而与两台路由器之间的距离无关。传播时延是一个比特从一台路由器向另一台路由器传播所需要的时间，它是两台路由器之间距离的函数，但与分组的长度或链路的传输速率无关。