### 网络核心

网络核心：互联了因特网端系统的分组交换机和链路的网状网络。

通过网络链路和交换机移动数据有两种基本方法：__电路交换__(circuit switching)和__分组交换__(packet switching)。

在__电路交换__网络中，沿着端系统通信路径，为端系统之间通信所提供的资源（缓存、链路传输速率）在通信会话期间会被保留。

在__分组交换__网络中，这些资源则不会被保留；会话的报文按需使用这些资源，这将导致可能不得不等待（即排队）接入通信线路。

在现代计算机网络中，源主机将长报文划分为较小的数据块，并称之为__分组__(packet)。在源和目的地之间，这些分组中的每个通过__通信链路__和__分组交换机__传送。分组以该链路的最大传输速率在通信链路上传输。

每个分组交换机有多条链路与之相连。对于每条相连的链路，该分组交换机具有一个__输出缓存__(output buffer)（也成为__输出队列__(output queue)），它用于存储路由器准备发往那条链路的分组。该输出缓存在分组交换中起着重要的作用。如果到达的分组需要跨越链路传输，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待。因此，除了存储转发时延以外，分组还要承受输出缓存的__排队时延__(queue delay)。这些时延是变化的，变化的程度取决于网络中的拥塞水平。因为缓存空间的大小是有限的，所以一个到达的分组可能发现该缓存被等待传输的分组完全充满了。在此情况下，将出现__分组丢失或丢包__(packet lost)——可能是到达的分组也可能是已经排队的分组之一将被丢弃。

路由器从与它相连的一条通信链路得到分组，将分组转发到与它相连的另一条通信链路上。

在因特网中，每个通过该网络传输的分组在它的首部包含了其目的地地址，就像邮政地址一样，该地址是一种层次结构。当分组到达网络中的一台路由器时，该路由器检查分组的目的地地址的一部分，并向相邻路由器转发该分组。更特别的是，每台路由器具有一个转发表，用于将目的地址（或目的地址的一部分）映射到输出链路。当分组到达一台路由器时，该路由器检查目的地址，并用这个目的地址搜索转发表，以找到合适的输出链路，然后，路由器将该分组导向输出链路

因特网的拓扑是很复杂的，它由几十个第一层的ISP和第二层ISP与数以千计的较低层的ISP组成。较低层的ISP与较高层的ISP相连，较高层的ISP彼此互联。用户和内容提供商是较低层的ISP的客户，较低层ISP是较高层ISP的客户。